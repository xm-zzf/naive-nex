var index=function(T,s,Y){"use strict";/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */var G;(function(i){i.pop="pop",i.push="push"})(G||(G={}));var Q;(function(i){i.back="back",i.forward="forward",i.unknown=""})(Q||(Q={})),Symbol(process.env.NODE_ENV!=="production"?"navigation failure":"");var R;(function(i){i[i.aborted=4]="aborted",i[i.cancelled=8]="cancelled",i[i.duplicated=16]="duplicated"})(R||(R={})),Symbol(process.env.NODE_ENV!=="production"?"router view location matched":""),Symbol(process.env.NODE_ENV!=="production"?"router view depth":""),Symbol(process.env.NODE_ENV!=="production"?"router":"");const oe=Symbol(process.env.NODE_ENV!=="production"?"route location":"");Symbol(process.env.NODE_ENV!=="production"?"router view location":"");function ue(){return s.inject(oe)}var ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function de(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var j={exports:{}};(function(i,y){(function(w,_){i.exports=_()})(ce,function(){var w=1e3,_=6e4,D=36e5,g="millisecond",e="second",h="minute",p="hour",v="day",k="week",M="month",S="quarter",C="year",l="date",d="Invalid Date",W=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,K=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(o){var n=["th","st","nd","rd"],t=o%100;return"["+o+(n[(t-20)%10]||n[t]||n[0])+"]"}},L=function(o,n,t){var a=String(o);return!a||a.length>=n?o:""+Array(n+1-a.length).join(t)+o},Ne={s:L,z:function(o){var n=-o.utcOffset(),t=Math.abs(n),a=Math.floor(t/60),r=t%60;return(n<=0?"+":"-")+L(a,2,"0")+":"+L(r,2,"0")},m:function o(n,t){if(n.date()<t.date())return-o(t,n);var a=12*(t.year()-n.year())+(t.month()-n.month()),r=n.clone().add(a,M),u=t-r<0,c=n.clone().add(a+(u?-1:1),M);return+(-(a+(t-r)/(u?r-c:c-r))||0)},a:function(o){return o<0?Math.ceil(o)||0:Math.floor(o)},p:function(o){return{M,y:C,w:k,d:v,D:l,h:p,m:h,s:e,ms:g,Q:S}[o]||String(o||"").toLowerCase().replace(/s$/,"")},u:function(o){return o===void 0}},X="en",A={};A[X]=E;var se="$isDayjsObject",U=function(o){return o instanceof z||!(!o||!o[se])},J=function o(n,t,a){var r;if(!n)return X;if(typeof n=="string"){var u=n.toLowerCase();A[u]&&(r=u),t&&(A[u]=t,r=u);var c=n.split("-");if(!r&&c.length>1)return o(c[0])}else{var m=n.name;A[m]=n,r=m}return!a&&r&&(X=r),r||!a&&X},N=function(o,n){if(U(o))return o.clone();var t=typeof n=="object"?n:{};return t.date=o,t.args=arguments,new z(t)},f=Ne;f.l=J,f.i=U,f.w=function(o,n){return N(o,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var z=function(){function o(t){this.$L=J(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[se]=!0}var n=o.prototype;return n.parse=function(t){this.$d=function(a){var r=a.date,u=a.utc;if(r===null)return new Date(NaN);if(f.u(r))return new Date;if(r instanceof Date)return new Date(r);if(typeof r=="string"&&!/Z$/i.test(r)){var c=r.match(W);if(c){var m=c[2]-1||0,$=(c[7]||"0").substring(0,3);return u?new Date(Date.UTC(c[1],m,c[3]||1,c[4]||0,c[5]||0,c[6]||0,$)):new Date(c[1],m,c[3]||1,c[4]||0,c[5]||0,c[6]||0,$)}}return new Date(r)}(t),this.init()},n.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},n.$utils=function(){return f},n.isValid=function(){return this.$d.toString()!==d},n.isSame=function(t,a){var r=N(t);return this.startOf(a)<=r&&r<=this.endOf(a)},n.isAfter=function(t,a){return N(t)<this.startOf(a)},n.isBefore=function(t,a){return this.endOf(a)<N(t)},n.$g=function(t,a,r){return f.u(t)?this[a]:this.set(r,t)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(t,a){var r=this,u=!!f.u(a)||a,c=f.p(t),m=function(I,V){var q=f.w(r.$u?Date.UTC(r.$y,V,I):new Date(r.$y,V,I),r);return u?q:q.endOf(v)},$=function(I,V){return f.w(r.toDate()[I].apply(r.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(V)),r)},O=this.$W,b=this.$M,x=this.$D,F="set"+(this.$u?"UTC":"");switch(c){case C:return u?m(1,0):m(31,11);case M:return u?m(1,b):m(0,b+1);case k:var H=this.$locale().weekStart||0,P=(O<H?O+7:O)-H;return m(u?x-P:x+(6-P),b);case v:case l:return $(F+"Hours",0);case p:return $(F+"Minutes",1);case h:return $(F+"Seconds",2);case e:return $(F+"Milliseconds",3);default:return this.clone()}},n.endOf=function(t){return this.startOf(t,!1)},n.$set=function(t,a){var r,u=f.p(t),c="set"+(this.$u?"UTC":""),m=(r={},r[v]=c+"Date",r[l]=c+"Date",r[M]=c+"Month",r[C]=c+"FullYear",r[p]=c+"Hours",r[h]=c+"Minutes",r[e]=c+"Seconds",r[g]=c+"Milliseconds",r)[u],$=u===v?this.$D+(a-this.$W):a;if(u===M||u===C){var O=this.clone().set(l,1);O.$d[m]($),O.init(),this.$d=O.set(l,Math.min(this.$D,O.daysInMonth())).$d}else m&&this.$d[m]($);return this.init(),this},n.set=function(t,a){return this.clone().$set(t,a)},n.get=function(t){return this[f.p(t)]()},n.add=function(t,a){var r,u=this;t=Number(t);var c=f.p(a),m=function(b){var x=N(u);return f.w(x.date(x.date()+Math.round(b*t)),u)};if(c===M)return this.set(M,this.$M+t);if(c===C)return this.set(C,this.$y+t);if(c===v)return m(1);if(c===k)return m(7);var $=(r={},r[h]=_,r[p]=D,r[e]=w,r)[c]||1,O=this.$d.getTime()+t*$;return f.w(O,this)},n.subtract=function(t,a){return this.add(-1*t,a)},n.format=function(t){var a=this,r=this.$locale();if(!this.isValid())return r.invalidDate||d;var u=t||"YYYY-MM-DDTHH:mm:ssZ",c=f.z(this),m=this.$H,$=this.$m,O=this.$M,b=r.weekdays,x=r.months,F=r.meridiem,H=function(V,q,B,Z){return V&&(V[q]||V(a,u))||B[q].slice(0,Z)},P=function(V){return f.s(m%12||12,V,"0")},I=F||function(V,q,B){var Z=V<12?"AM":"PM";return B?Z.toLowerCase():Z};return u.replace(K,function(V,q){return q||function(B){switch(B){case"YY":return String(a.$y).slice(-2);case"YYYY":return f.s(a.$y,4,"0");case"M":return O+1;case"MM":return f.s(O+1,2,"0");case"MMM":return H(r.monthsShort,O,x,3);case"MMMM":return H(x,O);case"D":return a.$D;case"DD":return f.s(a.$D,2,"0");case"d":return String(a.$W);case"dd":return H(r.weekdaysMin,a.$W,b,2);case"ddd":return H(r.weekdaysShort,a.$W,b,3);case"dddd":return b[a.$W];case"H":return String(m);case"HH":return f.s(m,2,"0");case"h":return P(1);case"hh":return P(2);case"a":return I(m,$,!0);case"A":return I(m,$,!1);case"m":return String($);case"mm":return f.s($,2,"0");case"s":return String(a.$s);case"ss":return f.s(a.$s,2,"0");case"SSS":return f.s(a.$ms,3,"0");case"Z":return c}return null}(V)||c.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(t,a,r){var u,c=this,m=f.p(a),$=N(t),O=($.utcOffset()-this.utcOffset())*_,b=this-$,x=function(){return f.m(c,$)};switch(m){case C:u=x()/12;break;case M:u=x();break;case S:u=x()/3;break;case k:u=(b-O)/6048e5;break;case v:u=(b-O)/864e5;break;case p:u=b/D;break;case h:u=b/_;break;case e:u=b/w;break;default:u=b}return r?u:f.a(u)},n.daysInMonth=function(){return this.endOf(M).$D},n.$locale=function(){return A[this.$L]},n.locale=function(t,a){if(!t)return this.$L;var r=this.clone(),u=J(t,a,!0);return u&&(r.$L=u),r},n.clone=function(){return f.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},o}(),le=z.prototype;return N.prototype=le,[["$ms",g],["$s",e],["$m",h],["$H",p],["$W",v],["$M",M],["$y",C],["$D",l]].forEach(function(o){le[o[1]]=function(n){return this.$g(n,o[0],o[1])}}),N.extend=function(o,n){return o.$i||(o(n,z,N),o.$i=!0),N},N.locale=J,N.isDayjs=U,N.unix=function(o){return N(1e3*o)},N.en=A[X],N.Ls=A,N.p={},N})})(j);var fe=j.exports;const he=de(fe);function me(i){if(typeof i=="string")return!1;try{return JSON.parse(i),!0}catch{return!1}}const ye={showIcon:!1,autoFocus:!1,negativeButtonProps:{style:{minWidth:"80px"}},positiveButtonProps:{style:{minWidth:"80px"}}},ee={style:{cursor:"pointer"},tooltip:{flip:!0,arrowPointToCenter:!0,contentStyle:{minWidth:"100px",maxWidth:"300px",maxHeight:"300px",overflowY:"auto",whiteSpace:"pre-line",boxSizing:"border-box",margin:"0 -14px",padding:"0 14px"},arrowStyle:{backgroundColor:"--n-color"}}},te=s.defineComponent((i,{})=>{console.log(ue);const y={fullPath:""},w=s.ref([]);function _(k){if(i.summaryColumns)return[i.selectColumns,...i.columns,i.oprColumns].reduce((M,S)=>{var C,l;return S!=null&&S.key&&(M[S.key]=((l=(C=i.summaryColumns)==null?void 0:C.call(i,k))==null?void 0:l[S.key])||{value:null}),M},{})}const D="filter_key";function g(){const k=window.localStorage.getItem(D);return me(k)?JSON.parse(k):{}}const e=s.ref(g()),h=s.ref([]),p=s.ref(0);s.watch(()=>i.columns,()=>{v()},{immediate:!0}),s.watch(()=>i.oprColumns,k=>{console.log("oprColumns",k)});function v(){var S,C;h.value=((S=e.value)==null?void 0:S[y==null?void 0:y.fullPath])||((C=i.columns)==null?void 0:C.map((l,d)=>(l==null?void 0:l.key)||he().valueOf()+d));const k=i.isFilter?i.columns.filter(l=>{var d;return(d=h.value)==null?void 0:d.includes(l==null?void 0:l.key)}):[...i.columns];i.selectColumns&&k.unshift({key:"selectKey",...i.selectColumns}),i.oprColumns&&k.push(i.oprColumns);let M=0;w.value=k.map(l=>{var W;const d={align:"center",width:120,...l,ellipsis:typeof(l==null?void 0:l.ellipsis)=="boolean"&&!(l!=null&&l.ellipsis)?l==null?void 0:l.ellipsis:typeof(l==null?void 0:l.ellipsis)=="object"?{...ee,...l==null?void 0:l.ellipsis}:{...ee},"ellipsis-component":"ellipsis"};return M+=d!=null&&d.width?parseInt(d==null?void 0:d.width):(((W=d==null?void 0:d.title)==null?void 0:W.length)||0)*d.length+30||0,d}),p.value=M,console.log("计算")}return()=>s.createVNode(s.Fragment,null,[s.createVNode(Y.NDataTable,s.mergeProps(i,{data:i.data,columns:w.value,"scroll-x":"scrollX",summary:i.summaryColumns?_:void 0,"summary-placement":"bottom",pagination:i.pagination,"row-props":()=>({style:{height:"60px"}}),"flex-height":!0,remote:!0,"virtual-scroll":i.data.length>1e3,style:"flex: 1"}),{empty:()=>s.createVNode("slot",{name:"empty"},[s.createVNode(Y.NEmpty,null,{default:()=>[i.emptyText]})])})])},{name:"Table",props:{columns:{type:Array,default:()=>[{title:"序号",key:"id"},{title:"标题",key:"title"},{title:"描述",key:"desc"},{title:"内容",key:"content"}]},data:{type:Array,default:()=>[]},summaryColumns:{type:[null,Function],default:()=>null},oprColumns:{type:[Object,null],default:()=>null},defaultColumns:{type:[Object,null],default:()=>null},selectColumns:{type:[Object,null],default:()=>null},emptyText:{type:String,default:()=>"没有数据"},emptyIcon:{type:String,default:()=>""},isFilter:{type:Boolean,default:()=>!1},pagination:{type:[],default:void 0}}}),ge={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},pe=[s.createElementVNode("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1)],$e=s.defineComponent({name:"Close",render:function(y,w){return s.openBlock(),s.createElementBlock("svg",ge,pe)}}),re=s.defineComponent((i,{slots:y,emit:w,expose:_})=>{const D=s.ref(i.show);s.watch(()=>i.show,h=>D.value=h),s.watch(()=>D.value,h=>w("update:show",h));function g(){}function e(){D.value=!1}return _({close:e,init:g}),()=>s.createVNode(s.Fragment,null,[s.createVNode(Y.NModal,{show:D.value,"onUpdate:show":h=>D.value=h,"display-directive":"show"},{default:()=>[s.createVNode("div",{class:"dialog_main"},[s.createVNode("div",{class:"dialog_main_header"},[s.createVNode("div",null,["未定义"]),s.createVNode("div",{class:"dialog_main_close",onClick:e},[s.createVNode(Y.NIcon,null,{default:()=>[s.createVNode($e,null,null)]})])]),s.createVNode("div",{class:"dialog_main_content"},{default:y.default}),s.createVNode("div",{class:"dialog_main_footer"},null)])]})])},{name:"Dialog",emits:["update:show"],props:{show:{type:Boolean,default:()=>!1},options:{type:Array,default:()=>[]}}}),ne=s.defineComponent((i,{slots:y})=>()=>s.createVNode("div",{class:"main_wrap w-full h-full flex flex-col"},[s.createVNode("div",{class:""},[y.head()]),s.createVNode("div",{class:"flex-1"},[y.default()]),s.createVNode("div",{class:""},[y.footer()])]),{name:"Main",slots:Object}),ie=Object.freeze(Object.defineProperty({__proto__:null,NEXDialog:re,NEXMain:ne,NEXTable:te},Symbol.toStringTag,{value:"Module"})),we=s.defineComponent(()=>()=>s.createVNode("div",null,[s.createTextVNode("FormItem")]),{name:"FormItem"});function _e({title:i="",options:y=[],labelField:w="label",isNo:_=!0,formProps:D={},interfaceFn:g=null,valueData:e=null,isRead:h=!1,action:p=null,style:v={}},k=null){const M="$dialog"in window?window.$dialog:Y.createDiscreteApi(["dialog"]).dialog,S=s.ref({...e}),C=s.computed(()=>h?null:p?{action:()=>p&&(p==null?void 0:p({d:l,formRef:d,data:S.value}))}:{positiveText:"确定",onPositiveClick:()=>{var E;return(E=d.value)==null||E.validate(L=>{L||(l.loading=!0,g&&g(S.value,{close:()=>l.destroy(),hideLoading:()=>l.loading=!1}))}),!1}});let l=null;const d=s.ref();console.log("触发");const W=Me({options:y,model:S,labelField:w,formOpr:{formRef:d,resetForm:()=>{var E;return(E=d==null?void 0:d.value)==null?void 0:E.restoreValidation()}}});function K(){l&&l.destroy(),l=M.create({type:"info",...ye,title:i,style:{width:"500px"},content:()=>s.createVNode(Y.NForm,s.mergeProps({ref:E=>d.value=E,model:S.value,rules:h?{}:W.value,"label-placement":"left","label-width":"100px","require-mark-placement":"right-hanging",class:h?"dialog-content":"dialog-main",style:{minHeight:_?"unset":null}},D),{default:()=>[s.createVNode(we,{value:S.value,"onUpdate:value":E=>S.value=E,d:l,formRef:d,option:y,labelField:w,isRead:h,style:v},null)]}),...C.value,...k})}return{show:()=>K(),close:()=>l==null?void 0:l.destroy(),hideLoading:()=>l.loading=!1}}function Me({options:i=[],model:y,labelField:w="label",formOpr:_={}}){return s.computed(()=>(i==null?void 0:i.reduce((D,{fields:g,...e})=>{var h,p;return Array.isArray(e==null?void 0:e.key)?e.key.forEach(v=>{D[String(v)]={required:e!=null&&e.required?typeof(e==null?void 0:e.required)=="function"?e==null?void 0:e.required(s.unref(y),{..._}):e==null?void 0:e.required:!1,message:(e==null?void 0:e.message)||`请选择${e==null?void 0:e[w]}`,fields:g}}):D[e==null?void 0:e.key]=e!=null&&e.rule?typeof(e==null?void 0:e.rule)!="function"?e==null?void 0:e.rule:e==null?void 0:e.rule(s.unref(y),{..._}):g?{required:e!=null&&e.required?typeof(e==null?void 0:e.required)=="function"?e==null?void 0:e.required(s.unref(y),{..._}):e==null?void 0:e.required:!1,message:(e==null?void 0:e.message)||`请${(h=e==null?void 0:e.options)!=null&&h.length?"选择":"输入"}${e==null?void 0:e[w]}`,fields:g}:{required:e!=null&&e.required?typeof(e==null?void 0:e.required)=="function"?e==null?void 0:e.required(s.unref(y),{..._}):e==null?void 0:e.required:!1,message:(e==null?void 0:e.message)||`请${(p=e==null?void 0:e.options)!=null&&p.length?"选择":"输入"}${e==null?void 0:e[w]}`},D},{}))||{})}function De({components:i=[],componentPrfix:y="NEX"}={}){const w=[];function _(g,e,h){g.component(y+e)||g.component(y+e,h)}function D(g){w.includes(g)||(w.push(g),i.forEach(e=>{const{name:h,alias:p}=e;_(g,h,e),p&&p.forEach(v=>_(g,v,e))}))}return{install:D}}const ae=De({components:Object.keys(ie).map(i=>ie[i])}),Se=ae.install;return T.NEXDialog=re,T.NEXMain=ne,T.NEXTable=te,T.default=ae,T.install=Se,T.useNEXDialog=_e,Object.defineProperties(T,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),T}({},Vue,naive);
